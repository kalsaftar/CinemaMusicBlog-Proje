@model IEnumerable<CinemaMusicBlog.Models.Post>

@{
    ViewData["Title"] = "Anasayfa";
}

<div class="p-5 mb-4 rounded-3 shadow-lg position-relative overflow-hidden" style="background: url('https://images.unsplash.com/photo-1489599849927-2ee91cede3ba?q=80&w=2070&auto=format&fit=crop') no-repeat center center; background-size: cover; height: 400px;">
    <div class="position-absolute top-0 start-0 w-100 h-100" style="background: rgba(0,0,0,0.7);"></div>

    <div class="container-fluid py-5 position-relative text-center text-white" style="z-index: 2;">
        <h1 class="display-4 fw-bold mb-3">Sinema Ve Müzik Üzerine</h1>
        <p class="col-md-8 fs-5 mx-auto opacity-75">Ben sinema ve muzik üzerine bir şeyler karalıyacağım siz de okuyacaksınız.</p>
        <a asp-controller="Posts" asp-action="Index" class="btn btn-neon btn-lg mt-3 px-5 py-3 rounded-pill fw-bold shadow">
            Tüm Yazıları Gör
        </a>
    </div>
</div>

<div class="d-flex align-items-center mb-4 mt-5 border-bottom border-secondary border-opacity-25 pb-3">
    <i class="bi bi-lightning-fill fs-3 me-2" style="color: var(--neon-blue);"></i>
    <h2 class="fw-bold m-0 text-white">Son Paylaşılanlar</h2>
</div>

<div class="row">
    @foreach (var item in Model)
    {
        <div class="col-md-4 mb-4">
            <div class="card h-100 modern-card">

                <div class="position-relative">
                    @if (!string.IsNullOrEmpty(item.ImageUrl))
                    {
                        <a asp-controller="Posts" asp-action="Details" asp-route-id="@item.Id" class="d-block">
                            <img src="~/images/@item.ImageUrl" class="card-img-top"
                                 style="height: 200px; object-fit: cover; cursor: pointer;">
                        </a>
                    }

                    <a asp-controller="Posts" asp-action="ByCategory" asp-route-id="@item.CategoryId"
                       class="badge position-absolute top-0 end-0 m-2 text-decoration-none shadow-lg @(item.Category?.Name == "Sinema" ? "bg-danger" : "bg-primary") rounded-pill"
                       style="cursor: pointer; z-index: 10;">
                        @item.Category?.Name
                    </a>
                </div>

                <div class="card-body">
                    <h5 class="card-title fw-bold text-white">@item.Title</h5>
                    <p class="card-text small opacity-75 text-white-50">
                        @(item.Content != null && item.Content.Length > 80 ? item.Content.Substring(0, 80) + "..." : item.Content)
                    </p>
                </div>

                <div class="card-footer bg-transparent border-0 pb-3">
                    <a asp-controller="Posts" asp-action="Details" asp-route-id="@item.Id"
                       class="btn btn-neon btn-sm w-100 fw-bold">
                        DEVAMINI OKU
                    </a>
                </div>
            </div>
        </div>
    }
</div>